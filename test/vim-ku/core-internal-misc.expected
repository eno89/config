==== ku_available_source_names 
---- It should return [] if there is no source 
..
---- It should return ['test'] if there is a source 'test' 
..
---- It should return ['test'] if source 'test' is overrdden 
..
---- It should return multiple names if there are multiple sources 
..

==== ku_available_source_p 
---- It should return false for non existing source 
.....
---- It should return true for an existing source 
.....
---- It should return true for an existing source which is overridden 
.....
---- It should return true for another existing source 
.....

==== ku_available_sources 
---- It should return {} if there is no source 
..
---- It should return {} after failed ku#define_source() 

Error detected while processing function vspec#test..<SNR>3_describe__ku_available_sources..ku#define_source..<SNR>6_valid_key_p:
line    5:
Invalild definition: Without key 'gather_candidates'.
line   17:
Invalild definition: Key 'gather_candidates' must be function but given value is 0.
Invalild definition: Key 'gather_candidates' must be function but given value is 0.
Invalild definition: Key 'name' must be string but given value is 0...
---- It should return some content after successful ku#define_source() 
...
---- It should return some content after overriding a source 
...

==== ku_x_kinds_from_kind_names 
---- It requires the following initialization 
...
---- It should succeed 
....
---- It requires to reset side effect 


==== s_compare_ignorecase 
---- It should return 0 for same characters with the same case 
..
---- It should return non 0 for same characters with different cases 
..
---- It should return non 0 for different characters with the same case 
..
---- It should return non 0 for different characters with different cases 
....

==== s_initialize_ku_buffer with users init autocmd
" autocmd FileType ku
---- It should set basic optoins 
......
---- It should define several autocommands for the current buffer 
.....
---- It should define several named key mappings for the current buffer 
........
---- It should not define any ui key mapping for the current buffer 
.
---- It should affect only the current buffer when it is called 
....................

==== s_initialize_ku_buffer with users init ftplugin
---- It should set basic optoins 
......
---- It should define several autocommands for the current buffer 
.....
---- It should define several named key mappings for the current buffer 
........
---- It should not define any ui key mapping for the current buffer 
.
---- It should affect only the current buffer when it is called 
....................

==== s_initialize_ku_buffer without users settings
---- It should set basic optoins 
......
---- It should define several autocommands for the current buffer 
.....
---- It should define several named key mappings for the current buffer 
........
---- It should define several ui key mappings for the current buffer 
.
---- It should affect only the current buffer when it is called 
....................

==== s_ku_active_p 
---- It should return false for the initial state 
.
---- It should return true after starting a ku session 
....
---- It should return false after quitting a ku session 
...

==== s_new_session ....
---- It should return a valid object without source (A) 
......
---- It should return a valid objec without source (B) 
......
---- It should return sessions with different session ids 
.
---- It should return a valid object with some sources 
......

==== s_on_CursorMovedI 
---- It is not implemented and currently return '' 
.

==== s_on_InsertEnter 
---- It is not implemented and currently return '' 
.

==== s_quit_session .......
---- It should reset side effect by ku#start() 
.......

==== s_valid_key_p 
---- It should return false for invalid argument 

Error detected while processing function vspec#test..<SNR>3_describe__s_valid_key_p..Call..vspec#call..<SNR>6_valid_key_p:
line    5:
Invalild definition: Without key '8bit'.
---- It should return false if key doesn't exist 

Invalild definition: Without key 0.
---- It should return true for valid values 
.....
---- It should return true for list with valid values 
...
---- It should return false for list with invalid values 

line   25:
Invalild definition: Key 'A' must be list of strings but given value is [1, 2, 3] and it contains 1.
Invalild definition: Key 'A' must be list of numbers but given value is [1, '2', 3] and it contains '2'.



**** Result ****


238 examples, 0 failures
